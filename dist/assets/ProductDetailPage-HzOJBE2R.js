import{j as n,u as qt,L as Kt,B as je,f as Ue}from"./index-CTcQB10b.js";import{r as H,c as Zt,d as Qt,b as Jt}from"./router-CeqegR0t.js";import{a as en}from"./useProducts-C7o3hJ7o.js";import{X as tn,d as nn,e as an,f as Tt,Z as rn,a as on,H as sn}from"./ui-QaDUGiM1.js";import"./vendor-D3F3s8fL.js";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:Rt,setPrototypeOf:bt,isFrozen:ln,getPrototypeOf:cn,getOwnPropertyDescriptor:un}=Object;let{freeze:w,seal:I,create:Lt}=Object,{apply:Ye,construct:$e}=typeof Reflect<"u"&&Reflect;w||(w=function(r){return r});I||(I=function(r){return r});Ye||(Ye=function(r,a){for(var s=arguments.length,u=new Array(s>2?s-2:0),f=2;f<s;f++)u[f-2]=arguments[f];return r.apply(a,u)});$e||($e=function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return new r(...s)});const xe=v(Array.prototype.forEach),mn=v(Array.prototype.lastIndexOf),Et=v(Array.prototype.pop),re=v(Array.prototype.push),dn=v(Array.prototype.splice),be=v(String.prototype.toLowerCase),Fe=v(String.prototype.toString),ze=v(String.prototype.match),oe=v(String.prototype.replace),fn=v(String.prototype.indexOf),pn=v(String.prototype.trim),D=v(Object.prototype.hasOwnProperty),S=v(RegExp.prototype.test),ie=hn(TypeError);function v(l){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return Ye(l,r,s)}}function hn(l){return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return $e(l,a)}}function c(l,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be;bt&&bt(l,null);let s=r.length;for(;s--;){let u=r[s];if(typeof u=="string"){const f=a(u);f!==u&&(ln(r)||(r[s]=f),u=f)}l[u]=!0}return l}function gn(l){for(let r=0;r<l.length;r++)D(l,r)||(l[r]=null);return l}function z(l){const r=Lt(null);for(const[a,s]of Rt(l))D(l,a)&&(Array.isArray(s)?r[a]=gn(s):s&&typeof s=="object"&&s.constructor===Object?r[a]=z(s):r[a]=s);return r}function se(l,r){for(;l!==null;){const s=un(l,r);if(s){if(s.get)return v(s.get);if(typeof s.value=="function")return v(s.value)}l=cn(l)}function a(){return null}return a}const _t=w(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),He=w(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ge=w(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),xn=w(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),We=w(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Tn=w(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),At=w(["#text"]),yt=w(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Be=w(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nt=w(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Te=w(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bn=I(/\{\{[\w\W]*|[\w\W]*\}\}/gm),En=I(/<%[\w\W]*|[\w\W]*%>/gm),_n=I(/\$\{[\w\W]*/gm),An=I(/^data-[\-\w.\u00B7-\uFFFF]+$/),yn=I(/^aria-[\-\w]+$/),Ot=I(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Nn=I(/^(?:\w+script|data):/i),Sn=I(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ct=I(/^html$/i),wn=I(/^[a-z][.\w]*(-[.\w]+)+$/i);var St=Object.freeze({__proto__:null,ARIA_ATTR:yn,ATTR_WHITESPACE:Sn,CUSTOM_ELEMENT:wn,DATA_ATTR:An,DOCTYPE_NAME:Ct,ERB_EXPR:En,IS_ALLOWED_URI:Ot,IS_SCRIPT_OR_DATA:Nn,MUSTACHE_EXPR:bn,TMPLIT_EXPR:_n});const le={element:1,text:3,progressingInstruction:7,comment:8,document:9},vn=function(){return typeof window>"u"?null:window},Rn=function(r,a){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let s=null;const u="data-tt-policy-suffix";a&&a.hasAttribute(u)&&(s=a.getAttribute(u));const f="dompurify"+(s?"#"+s:"");try{return r.createPolicy(f,{createHTML(C){return C},createScriptURL(C){return C}})}catch{return console.warn("TrustedTypes policy "+f+" could not be created."),null}},wt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function It(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vn();const r=i=>It(i);if(r.version="3.2.7",r.removed=[],!l||!l.document||l.document.nodeType!==le.document||!l.Element)return r.isSupported=!1,r;let{document:a}=l;const s=a,u=s.currentScript,{DocumentFragment:f,HTMLTemplateElement:C,Node:p,Element:M,NodeFilter:R,NamedNodeMap:G=l.NamedNodeMap||l.MozNamedAttrMap,HTMLFormElement:k,DOMParser:$,trustedTypes:b}=l,L=M.prototype,Ee=se(L,"cloneNode"),ce=se(L,"remove"),_e=se(L,"nextSibling"),m=se(L,"childNodes"),W=se(L,"parentNode");if(typeof C=="function"){const i=a.createElement("template");i.content&&i.content.ownerDocument&&(a=i.content.ownerDocument)}let y,ee="";const{implementation:Ae,createNodeIterator:Dt,createDocumentFragment:Mt,getElementsByTagName:kt}=a,{importNode:Pt}=s;let N=wt();r.isSupported=typeof Rt=="function"&&typeof W=="function"&&Ae&&Ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:Ne,TMPLIT_EXPR:Se,DATA_ATTR:jt,ARIA_ATTR:Ut,IS_SCRIPT_OR_DATA:Ft,ATTR_WHITESPACE:Ve,CUSTOM_ELEMENT:zt}=St;let{IS_ALLOWED_URI:Xe}=St,x=null;const qe=c({},[..._t,...He,...Ge,...We,...At]);let E=null;const Ke=c({},[...yt,...Be,...Nt,...Te]);let h=Object.seal(Lt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,we=null,Ze=!0,ve=!0,Qe=!1,Je=!0,V=!1,ue=!0,B=!1,Re=!1,Le=!1,X=!1,me=!1,de=!1,et=!0,tt=!1;const Ht="user-content-";let Oe=!0,ne=!1,q={},K=null;const nt=c({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let at=null;const rt=c({},["audio","video","img","source","image","track"]);let Ce=null;const ot=c({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",j="http://www.w3.org/1999/xhtml";let Z=j,Ie=!1,De=null;const Gt=c({},[fe,pe,j],Fe);let he=c({},["mi","mo","mn","ms","mtext"]),ge=c({},["annotation-xml"]);const Wt=c({},["title","style","font","a","script"]);let ae=null;const Bt=["application/xhtml+xml","text/html"],Yt="text/html";let T=null,Q=null;const $t=a.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},Me=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Q&&Q===e)){if((!e||typeof e!="object")&&(e={}),e=z(e),ae=Bt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Yt:e.PARSER_MEDIA_TYPE,T=ae==="application/xhtml+xml"?Fe:be,x=D(e,"ALLOWED_TAGS")?c({},e.ALLOWED_TAGS,T):qe,E=D(e,"ALLOWED_ATTR")?c({},e.ALLOWED_ATTR,T):Ke,De=D(e,"ALLOWED_NAMESPACES")?c({},e.ALLOWED_NAMESPACES,Fe):Gt,Ce=D(e,"ADD_URI_SAFE_ATTR")?c(z(ot),e.ADD_URI_SAFE_ATTR,T):ot,at=D(e,"ADD_DATA_URI_TAGS")?c(z(rt),e.ADD_DATA_URI_TAGS,T):rt,K=D(e,"FORBID_CONTENTS")?c({},e.FORBID_CONTENTS,T):nt,te=D(e,"FORBID_TAGS")?c({},e.FORBID_TAGS,T):z({}),we=D(e,"FORBID_ATTR")?c({},e.FORBID_ATTR,T):z({}),q=D(e,"USE_PROFILES")?e.USE_PROFILES:!1,Ze=e.ALLOW_ARIA_ATTR!==!1,ve=e.ALLOW_DATA_ATTR!==!1,Qe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Je=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,V=e.SAFE_FOR_TEMPLATES||!1,ue=e.SAFE_FOR_XML!==!1,B=e.WHOLE_DOCUMENT||!1,X=e.RETURN_DOM||!1,me=e.RETURN_DOM_FRAGMENT||!1,de=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,et=e.SANITIZE_DOM!==!1,tt=e.SANITIZE_NAMED_PROPS||!1,Oe=e.KEEP_CONTENT!==!1,ne=e.IN_PLACE||!1,Xe=e.ALLOWED_URI_REGEXP||Ot,Z=e.NAMESPACE||j,he=e.MATHML_TEXT_INTEGRATION_POINTS||he,ge=e.HTML_INTEGRATION_POINTS||ge,h=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(h.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(h.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(h.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),V&&(ve=!1),me&&(X=!0),q&&(x=c({},At),E=[],q.html===!0&&(c(x,_t),c(E,yt)),q.svg===!0&&(c(x,He),c(E,Be),c(E,Te)),q.svgFilters===!0&&(c(x,Ge),c(E,Be),c(E,Te)),q.mathMl===!0&&(c(x,We),c(E,Nt),c(E,Te))),e.ADD_TAGS&&(x===qe&&(x=z(x)),c(x,e.ADD_TAGS,T)),e.ADD_ATTR&&(E===Ke&&(E=z(E)),c(E,e.ADD_ATTR,T)),e.ADD_URI_SAFE_ATTR&&c(Ce,e.ADD_URI_SAFE_ATTR,T),e.FORBID_CONTENTS&&(K===nt&&(K=z(K)),c(K,e.FORBID_CONTENTS,T)),Oe&&(x["#text"]=!0),B&&c(x,["html","head","body"]),x.table&&(c(x,["tbody"]),delete te.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ie('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=e.TRUSTED_TYPES_POLICY,ee=y.createHTML("")}else y===void 0&&(y=Rn(b,u)),y!==null&&typeof ee=="string"&&(ee=y.createHTML(""));w&&w(e),Q=e}},st=c({},[...He,...Ge,...xn]),lt=c({},[...We,...Tn]),Vt=function(e){let t=W(e);(!t||!t.tagName)&&(t={namespaceURI:Z,tagName:"template"});const o=be(e.tagName),d=be(t.tagName);return De[e.namespaceURI]?e.namespaceURI===pe?t.namespaceURI===j?o==="svg":t.namespaceURI===fe?o==="svg"&&(d==="annotation-xml"||he[d]):!!st[o]:e.namespaceURI===fe?t.namespaceURI===j?o==="math":t.namespaceURI===pe?o==="math"&&ge[d]:!!lt[o]:e.namespaceURI===j?t.namespaceURI===pe&&!ge[d]||t.namespaceURI===fe&&!he[d]?!1:!lt[o]&&(Wt[o]||!st[o]):!!(ae==="application/xhtml+xml"&&De[e.namespaceURI]):!1},P=function(e){re(r.removed,{element:e});try{W(e).removeChild(e)}catch{ce(e)}},Y=function(e,t){try{re(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch{re(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is")if(X||me)try{P(t)}catch{}else try{t.setAttribute(e,"")}catch{}},ct=function(e){let t=null,o=null;if(Le)e="<remove></remove>"+e;else{const g=ze(e,/^[\r\n\t ]+/);o=g&&g[0]}ae==="application/xhtml+xml"&&Z===j&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const d=y?y.createHTML(e):e;if(Z===j)try{t=new $().parseFromString(d,ae)}catch{}if(!t||!t.documentElement){t=Ae.createDocument(Z,"template",null);try{t.documentElement.innerHTML=Ie?ee:d}catch{}}const A=t.body||t.documentElement;return e&&o&&A.insertBefore(a.createTextNode(o),A.childNodes[0]||null),Z===j?kt.call(t,B?"html":"body")[0]:B?t.documentElement:A},ut=function(e){return Dt.call(e.ownerDocument||e,e,R.SHOW_ELEMENT|R.SHOW_COMMENT|R.SHOW_TEXT|R.SHOW_PROCESSING_INSTRUCTION|R.SHOW_CDATA_SECTION,null)},ke=function(e){return e instanceof k&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof G)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},mt=function(e){return typeof p=="function"&&e instanceof p};function U(i,e,t){xe(i,o=>{o.call(r,e,t,Q)})}const dt=function(e){let t=null;if(U(N.beforeSanitizeElements,e,null),ke(e))return P(e),!0;const o=T(e.nodeName);if(U(N.uponSanitizeElement,e,{tagName:o,allowedTags:x}),ue&&e.hasChildNodes()&&!mt(e.firstElementChild)&&S(/<[/\w!]/g,e.innerHTML)&&S(/<[/\w!]/g,e.textContent)||e.nodeType===le.progressingInstruction||ue&&e.nodeType===le.comment&&S(/<[/\w]/g,e.data))return P(e),!0;if(!x[o]||te[o]){if(!te[o]&&pt(o)&&(h.tagNameCheck instanceof RegExp&&S(h.tagNameCheck,o)||h.tagNameCheck instanceof Function&&h.tagNameCheck(o)))return!1;if(Oe&&!K[o]){const d=W(e)||e.parentNode,A=m(e)||e.childNodes;if(A&&d){const g=A.length;for(let O=g-1;O>=0;--O){const F=Ee(A[O],!0);F.__removalCount=(e.__removalCount||0)+1,d.insertBefore(F,_e(e))}}}return P(e),!0}return e instanceof M&&!Vt(e)||(o==="noscript"||o==="noembed"||o==="noframes")&&S(/<\/no(script|embed|frames)/i,e.innerHTML)?(P(e),!0):(V&&e.nodeType===le.text&&(t=e.textContent,xe([ye,Ne,Se],d=>{t=oe(t,d," ")}),e.textContent!==t&&(re(r.removed,{element:e.cloneNode()}),e.textContent=t)),U(N.afterSanitizeElements,e,null),!1)},ft=function(e,t,o){if(et&&(t==="id"||t==="name")&&(o in a||o in $t))return!1;if(!(ve&&!we[t]&&S(jt,t))){if(!(Ze&&S(Ut,t))){if(!E[t]||we[t]){if(!(pt(e)&&(h.tagNameCheck instanceof RegExp&&S(h.tagNameCheck,e)||h.tagNameCheck instanceof Function&&h.tagNameCheck(e))&&(h.attributeNameCheck instanceof RegExp&&S(h.attributeNameCheck,t)||h.attributeNameCheck instanceof Function&&h.attributeNameCheck(t,e))||t==="is"&&h.allowCustomizedBuiltInElements&&(h.tagNameCheck instanceof RegExp&&S(h.tagNameCheck,o)||h.tagNameCheck instanceof Function&&h.tagNameCheck(o))))return!1}else if(!Ce[t]){if(!S(Xe,oe(o,Ve,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&fn(o,"data:")===0&&at[e])){if(!(Qe&&!S(Ft,oe(o,Ve,"")))){if(o)return!1}}}}}}return!0},pt=function(e){return e!=="annotation-xml"&&ze(e,zt)},ht=function(e){U(N.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||ke(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:E,forceKeepAttr:void 0};let d=t.length;for(;d--;){const A=t[d],{name:g,namespaceURI:O,value:F}=A,J=T(g),Pe=F;let _=g==="value"?Pe:pn(Pe);if(o.attrName=J,o.attrValue=_,o.keepAttr=!0,o.forceKeepAttr=void 0,U(N.uponSanitizeAttribute,e,o),_=o.attrValue,tt&&(J==="id"||J==="name")&&(Y(g,e),_=Ht+_),ue&&S(/((--!?|])>)|<\/(style|title|textarea)/i,_)){Y(g,e);continue}if(J==="attributename"&&ze(_,"href")){Y(g,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){Y(g,e);continue}if(!Je&&S(/\/>/i,_)){Y(g,e);continue}V&&xe([ye,Ne,Se],xt=>{_=oe(_,xt," ")});const gt=T(e.nodeName);if(!ft(gt,J,_)){Y(g,e);continue}if(y&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!O)switch(b.getAttributeType(gt,J)){case"TrustedHTML":{_=y.createHTML(_);break}case"TrustedScriptURL":{_=y.createScriptURL(_);break}}if(_!==Pe)try{O?e.setAttributeNS(O,g,_):e.setAttribute(g,_),ke(e)?P(e):Et(r.removed)}catch{Y(g,e)}}U(N.afterSanitizeAttributes,e,null)},Xt=function i(e){let t=null;const o=ut(e);for(U(N.beforeSanitizeShadowDOM,e,null);t=o.nextNode();)U(N.uponSanitizeShadowNode,t,null),dt(t),ht(t),t.content instanceof f&&i(t.content);U(N.afterSanitizeShadowDOM,e,null)};return r.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,o=null,d=null,A=null;if(Ie=!i,Ie&&(i="<!-->"),typeof i!="string"&&!mt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw ie("dirty is not a string, aborting")}else throw ie("toString is not a function");if(!r.isSupported)return i;if(Re||Me(e),r.removed=[],typeof i=="string"&&(ne=!1),ne){if(i.nodeName){const F=T(i.nodeName);if(!x[F]||te[F])throw ie("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof p)t=ct("<!---->"),o=t.ownerDocument.importNode(i,!0),o.nodeType===le.element&&o.nodeName==="BODY"||o.nodeName==="HTML"?t=o:t.appendChild(o);else{if(!X&&!V&&!B&&i.indexOf("<")===-1)return y&&de?y.createHTML(i):i;if(t=ct(i),!t)return X?null:de?ee:""}t&&Le&&P(t.firstChild);const g=ut(ne?i:t);for(;d=g.nextNode();)dt(d),ht(d),d.content instanceof f&&Xt(d.content);if(ne)return i;if(X){if(me)for(A=Mt.call(t.ownerDocument);t.firstChild;)A.appendChild(t.firstChild);else A=t;return(E.shadowroot||E.shadowrootmode)&&(A=Pt.call(s,A,!0)),A}let O=B?t.outerHTML:t.innerHTML;return B&&x["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&S(Ct,t.ownerDocument.doctype.name)&&(O="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+O),V&&xe([ye,Ne,Se],F=>{O=oe(O,F," ")}),y&&de?y.createHTML(O):O},r.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Me(i),Re=!0},r.clearConfig=function(){Q=null,Re=!1},r.isValidAttribute=function(i,e,t){Q||Me({});const o=T(i),d=T(e);return ft(o,d,t)},r.addHook=function(i,e){typeof e=="function"&&re(N[i],e)},r.removeHook=function(i,e){if(e!==void 0){const t=mn(N[i],e);return t===-1?void 0:dn(N[i],t,1)[0]}return Et(N[i])},r.removeHooks=function(i){N[i]=[]},r.removeAllHooks=function(){N=wt()},r}var vt=It();const Ln=({description:l,descriptionHtml:r,className:a="",title:s="Product Details"})=>{const u=()=>r?vt.sanitize(r):l?vt.sanitize(l.replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^(.+)$/,"<p>$1</p>")):"<p>No description available.</p>";return!l&&!r?null:n.jsxs("div",{className:`product-description bg-gradient-to-br from-nyanza to-celadon/20 p-6 rounded-xl border border-mint/30 ${a}`,children:[s&&n.jsx("h3",{className:"text-xl font-bold text-brunswick-green mb-4",children:s}),n.jsx("div",{className:"prose prose-sm max-w-none text-dartmouth-green leading-relaxed",dangerouslySetInnerHTML:{__html:u()}})]})},On=({isOpen:l,onClose:r,images:a,initialIndex:s,productTitle:u})=>{const[f,C]=H.useState(s),[p,M]=H.useState(!0);H.useEffect(()=>{C(s)},[s]),H.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]),H.useEffect(()=>{const b=L=>{if(l)switch(L.key){case"Escape":r();break;case"ArrowLeft":G();break;case"ArrowRight":R();break}};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[l,f]);const R=()=>{C(b=>(b+1)%a.length),M(!0)},G=()=>{C(b=>(b-1+a.length)%a.length),M(!0)},k=()=>{M(!1)};if(!l||a.length===0)return null;const $=a[f];return n.jsxs("div",{className:"fixed inset-0 z-50 bg-dark-green/95 backdrop-blur-sm",children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-dark-green/80 to-transparent p-4",children:n.jsxs("div",{className:"flex items-center justify-between text-white",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold truncate max-w-md",children:u}),n.jsxs("p",{className:"text-sm text-celadon",children:[f+1," of ",a.length]})]}),n.jsx("button",{onClick:r,className:"p-2 rounded-full bg-brunswick-green/50 hover:bg-brunswick-green/70 transition-colors","aria-label":"Close lightbox",children:n.jsx(tn,{className:"w-6 h-6"})})]})}),n.jsx("div",{className:"flex items-center justify-center h-full px-4 py-16",children:n.jsxs("div",{className:"relative max-w-7xl max-h-full",children:[p&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-brunswick-green/20 rounded-lg",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-mint"})}),n.jsx("img",{src:$.url,alt:$.altText||`${u} image ${f+1}`,onLoad:k,className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl",style:{maxHeight:"calc(100vh - 8rem)"}}),a.length>1&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:G,className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-brunswick-green/80 hover:bg-brunswich-green text-white transition-all duration-200 hover:scale-110","aria-label":"Previous image",children:n.jsx(nn,{className:"w-6 h-6"})}),n.jsx("button",{onClick:R,className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-brunswick-green/80 hover:bg-brunswick-green text-white transition-all duration-200 hover:scale-110","aria-label":"Next image",children:n.jsx(an,{className:"w-6 h-6"})})]})]})}),a.length>1&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-dark-green/80 to-transparent p-4",children:n.jsx("div",{className:"flex justify-center space-x-2 overflow-x-auto max-w-full",children:a.map((b,L)=>n.jsx("button",{onClick:()=>{C(L),M(!0)},className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${L===f?"border-mint shadow-lg scale-110":"border-celadon/50 hover:border-mint/70 opacity-70 hover:opacity-100"}`,children:n.jsx("img",{src:b.url,alt:b.altText||`${u} thumbnail ${L+1}`,className:"w-full h-full object-cover"})},b.id))})}),n.jsx("div",{className:"absolute inset-0 -z-10",onClick:r,"aria-label":"Close lightbox"})]})},Pn=()=>{const{handle:l}=Zt(),r=Qt(),{product:a,loading:s,error:u}=en(l||""),{addItem:f,openCart:C}=qt(),[p,M]=H.useState(null),[R,G]=H.useState(1),[k,$]=H.useState(0),[b,L]=H.useState(!1);if(Jt.useEffect(()=>{a&&a.variants.length>0&&!p&&M(a.variants[0])},[a,p]),s)return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx(Kt,{size:"lg",text:"Loading product..."})});if(u||!a)return n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:u||"The requested product could not be found."}),n.jsxs(je,{onClick:()=>r("/products"),variant:"outline",children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Back to Products"]})]})});const Ee=()=>{if(!p)return;const m=a.images[0];f({variantId:p.id,productId:a.id,title:a.title,handle:a.handle,price:p.price,quantity:R,image:m,variant:p}),C()},ce=m=>{$(m),L(!0)},_e=!p||!p.availableForSale||R<1;return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nyanza via-white to-celadon",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("button",{onClick:()=>r("/products"),className:"flex items-center text-dartmouth-green hover:text-brunswick-green mb-8 transition-all duration-200 font-medium bg-white/70 backdrop-blur-sm px-4 py-2 rounded-full shadow-md hover:shadow-lg",children:[n.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Back to Products"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mb-4 relative group",style:{aspectRatio:"1/1"},children:a.images[k]?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:a.images[k].url,alt:a.images[k].altText||a.title,className:"w-full h-full object-cover object-center rounded-xl shadow-lg cursor-zoom-in transition-transform duration-300 group-hover:scale-105",width:"600",height:"600",loading:"eager",decoding:"sync",onClick:()=>ce(k)}),n.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl flex items-center justify-center",children:n.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-3",children:n.jsx(rn,{className:"w-6 h-6 text-white"})})})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-celadon-2 to-mint rounded-xl flex items-center justify-center shadow-lg",style:{aspectRatio:"1/1"},children:n.jsx("span",{className:"text-dartmouth-green font-medium",children:"No image available"})})}),a.images.length>1&&n.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:a.images.map((m,W)=>n.jsx("button",{onClick:()=>ce(W),className:`flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all relative ${W===k?"border-sea-green shadow-lg":"border-celadon hover:border-mint-2 shadow-md hover:scale-105"}`,style:{aspectRatio:"1/1"},children:n.jsx("img",{src:m.url,alt:m.altText||`${a.title} ${W+1}`,className:"w-full h-full object-cover",width:"80",height:"80",loading:"lazy",decoding:"async"})},m.id))})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),a.vendor&&n.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["by ",a.vendor]}),n.jsx("div",{className:"mb-6",children:n.jsx("span",{className:"text-3xl font-bold text-gray-900",children:p?Ue(p.price.amount,p.price.currencyCode):a.priceRange?.minVariantPrice?Ue(a.priceRange.minVariantPrice.amount,a.priceRange.minVariantPrice.currencyCode):"Price not available"})}),a.variants.length>1&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Variant"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:a.variants.map(m=>n.jsxs("button",{onClick:()=>M(m),className:`px-4 py-2 text-sm border rounded-md transition-all ${p?.id===m.id?"border-green-500 bg-green-50 text-green-900":"border-gray-300 hover:border-gray-400"} ${m.availableForSale?"":"opacity-50 cursor-not-allowed"}`,disabled:!m.availableForSale,children:[m.title," - ",Ue(m.price.amount,m.price.currencyCode),!m.availableForSale&&" (Sold Out)"]},m.id))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Quantity"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>G(Math.max(1,R-1)),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"-"}),n.jsx("input",{type:"number",min:"1",value:R,onChange:m=>G(Math.max(1,parseInt(m.target.value)||1)),className:"w-20 px-3 py-2 border border-gray-300 rounded-md text-center focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500"}),n.jsx("button",{type:"button",onClick:()=>G(R+1),className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"+"})]})]}),n.jsxs("div",{className:"flex space-x-4 mb-8",children:[n.jsx(je,{onClick:Ee,disabled:_e,size:"lg",fullWidth:!0,icon:n.jsx(on,{className:"w-5 h-5"}),children:p?.availableForSale?"Add to Cart":"Sold Out"}),n.jsx(je,{variant:"outline",size:"lg",className:"px-6",icon:n.jsx(sn,{className:"w-5 h-5"}),children:"Save"})]}),p&&n.jsx("div",{className:"mb-6",children:n.jsx("span",{className:`text-sm ${p.availableForSale?"text-green-600":"text-red-600"}`,children:p.availableForSale?"✓ In Stock":"✗ Out of Stock"})}),n.jsx(Ln,{description:a.description,descriptionHtml:a.descriptionHtml,title:"Product Details"}),a.tags.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map(m=>n.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:m},m))})]})]})]}),n.jsx(On,{isOpen:b,onClose:()=>L(!1),images:a.images,initialIndex:k,productTitle:a.title})]})})};export{Pn as ProductDetailPage};
