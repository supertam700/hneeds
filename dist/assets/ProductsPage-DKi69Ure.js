import{u as g,j as e,f as u,B as f}from"./index-CTcQB10b.js";import{u as j}from"./useProducts-C7o3hJ7o.js";import{b as m}from"./router-CeqegR0t.js";import{L as b,C as v,a as N}from"./ui-QaDUGiM1.js";import"./vendor-D3F3s8fL.js";const p=({product:s})=>{const{addItem:l}=g(),[a,t]=m.useState(!1),[n,o]=m.useState(!1),r=s.variants[0],i=r?.availableForSale,d=s.images&&s.images.length>0?s.images[0]:null,x=async c=>{c.preventDefault(),c.stopPropagation(),r&&i&&(t(!0),await new Promise(h=>setTimeout(h,500)),l({variantId:r.id,productId:s.id,handle:s.handle,title:s.title,variant:r,quantity:1,price:r.price,image:d}),t(!1),o(!0),setTimeout(()=>{o(!1)},1500))};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 animate-fadeIn",children:[e.jsxs("a",{href:`/products/${s.handle}`,className:"block",children:[e.jsx("div",{className:"aspect-square overflow-hidden bg-gray-100",children:d?e.jsx("img",{src:d.url,alt:d.altText||s.title,width:"300",height:"300",loading:"lazy",decoding:"async",className:"w-full h-full object-cover image-hover"}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No Image"})})}),e.jsxs("div",{className:"p-4",children:[s.vendor&&e.jsx("p",{className:"text-sm text-gray-500 mb-1 min-h-[1.25rem]",children:s.vendor}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 min-h-[3rem] line-clamp-2",children:s.title}),s.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 min-h-[2.5rem] line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between min-h-[1.5rem]",children:[e.jsx("div",{children:r&&e.jsx("span",{className:"text-lg font-bold text-gray-900",children:u(r.price.amount,r.price.currencyCode)})}),!i&&e.jsx("span",{className:"text-sm text-red-500 font-medium",children:"Out of Stock"})]})]})]}),e.jsx("div",{className:"p-4 pt-0 border-t border-gray-100",children:e.jsx("button",{onClick:x,disabled:!i||a,className:`w-full flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 min-h-[2.5rem] ${n?"bg-green-500 text-white":i&&!a?"bg-green-600 hover:bg-green-700 text-white btn-hover":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):n?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Added to Cart!"]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),i?"Add to Cart":"Out of Stock"]})})})]})},w=()=>e.jsxs("div",{className:"overflow-hidden rounded-xl border border-celadon/50 bg-white/90 backdrop-blur-sm shadow-lg animate-pulse",children:[e.jsx("div",{className:"bg-gradient-to-br from-nyanza to-celadon/30",style:{aspectRatio:"1/1"},children:e.jsx("div",{className:"w-full h-full bg-celadon/50"})}),e.jsxs("div",{className:"p-6 bg-gradient-to-b from-white to-nyanza/20 min-h-[200px] flex flex-col",children:[e.jsx("div",{className:"h-6 bg-celadon/30 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-celadon/20 rounded w-20 mb-2"}),e.jsx("div",{className:"h-8 bg-celadon/30 rounded w-24 mb-3"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-celadon/20 rounded"}),e.jsx("div",{className:"h-4 bg-celadon/20 rounded w-3/4"})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsx("div",{className:"h-10 bg-celadon/30 rounded"})})]})]}),y=({products:s,loading:l=!1,error:a=null})=>l?e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((t,n)=>e.jsx(w,{},n))}):a?e.jsx("div",{className:"min-h-64 flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100/50 rounded-2xl shadow-inner border border-red-200",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("p",{className:"text-red-700 mb-2 text-lg font-semibold",children:"Failed to load products"}),e.jsx("p",{className:"text-red-600 text-sm",children:a})]})}):s.length===0?e.jsx("div",{className:"min-h-64 flex items-center justify-center bg-gradient-to-br from-nyanza to-celadon/30 rounded-2xl shadow-inner",children:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("p",{className:"text-dartmouth-green text-xl font-medium mb-2",children:"No products found"}),e.jsx("p",{className:"text-dartmouth-green/60 text-sm",children:"Check back later for new arrivals"})]})}):e.jsx("div",{className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(t=>e.jsx(p,{product:t},t.id))}),I=()=>{const{products:s,loading:l,error:a,hasNextPage:t,loadMore:n}=j(20);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-nyanza via-white to-celadon",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-brunswick-green mb-6",children:"All Products"}),e.jsx("p",{className:"text-xl text-dartmouth-green max-w-2xl mx-auto",children:"Discover our complete collection of quality products"}),e.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-mint-2 to-sea-green mx-auto mt-4 rounded-full"})]}),e.jsx(y,{products:s,loading:l,error:a}),t&&!l&&e.jsx("div",{className:"text-center mt-16",children:e.jsx(f,{onClick:n,variant:"outline",size:"lg",className:"shadow-lg hover:shadow-xl transition-all duration-300",children:"Load More Products"})})]})})};export{I as ProductsPage};
